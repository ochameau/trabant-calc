<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Automation's trabant distance calculator</title>
  <link href="style.css" rel="stylesheet">
</head>

<body>
<script src="trabant.js" defer></script>

<div style="float: right">
  <input type="checkbox" id="details"/><label for="details">details</label>
</div>
<h2 align="center">
  <a href="?search-type=try" data-search-type="try">Your try results</a> - 
  <a href="?search-type=branch" data-search-type="branch">One branch results</a>
</h2>

<h2 data-search-type="try" align="center" hidden>
  <label for="email">email:</label><input type="email" id="email" size="30"/>
</h2>

<h2 data-search-type="branch" align="center" hidden>
  <select id="branch">
    <option>mozilla-central</option>
    <option>mozilla-inbound</option>
    <option>autoland</option>
    <option>try</option>
  </select>
  <label for="changeset">changeset:</label><input type="text" id="changeset" size="30"/>
</h2>

<div id="results"></div>

<div id="what">
<p>
  <h3> What is this page about?</h3>
  Give a better sense on how much computation is going on in Mozilla automation.
</p>
<p>
  <h3> What is that car's GIF?</h3>
  The car is a Trabant. This car is often seen as symbolic of the former East Germany and the collapse of the Eastern Bloc in general.
  The trabant part of this tool is just a joke.
  You may only consider looking at durations, which are meant to be trustable data.
  Translating a worker duration into CO2 emission is almost impossible to get right.
  And that's what we do here. Translate worker duration into a potential energy consumption,
  which we translate into a potential CO2 emission, before finally translating that CO2 emission
  into the equivalent emission of a trabant over a given distance in kilometers.
</p>
<p>
  <h3> Power consumption of an AWS worker per hour </h3>
  Here is a really weak computation of Amazon AWS CO2 emissions for a t4.large worker:
  The power usage of the machines these workers are running on could be 0.6 kW.
  Such worker uses 25% of these machines.
  Then let's say that Amazon <a href="https://en.wikipedia.org/wiki/Power_usage_effectiveness">Power Usage Effectiveness</a> is 1.1.
  It means that one hour of a worker consumes <b>0.165 kWh</b> (0.6 * 0.25 * 1.1).
</p>
<p>
  <h3> CO2 emission of electricity per kWh </h3>
  Based on US Environmental Protection Agency, [<a href="https://www.epa.gov/sites/production/files/2018-02/documents/egrid2016_summarytables.pdf">source</a>]
  the average CO2 emission per MWh is 998.4 lb/MWh. So 998.4 * 453.59237(g/lb) = 452866 g/MWh, and, 452866 / 1000 = <b>452 g of CO2/kWh</b>.
  Unfortunately, the data is already old. It comes from a 2018 report, which seems to be about 2017 data.
</p>
<p>
  <h3> CO2 emission of a Trabant per km</h3>
  A Trabant emits <b>170 g of CO2 / km</b> [<a href="http://www.trabantforum.de/ubb/Forum1/HTML/007230.html">source</a>].
  (Another [<a href="https://www.focus.de/auto/fahrberichte/tid-6214/fahrbericht-trabant-p-601l_aid_60251.html">source</a>] reports 140g, but let's say it emits a lot.)
</p>
<p>
  <h3> Final computation  </h3>
  Trabant's kilometers = "Hours of computation" * "Power consumption of a worker per hour" * "CO2 emission of electribity per kWh" / "CO2 emission of a trabant per km" <br/>
  Trabant's kilometers = "Hours of computation" * 0.165 * 452 / 170 <br/>
  Trabant's kilometers = "Hours of computation" * 0.4387058823529412
</p>
</div>

</body>
</html>
